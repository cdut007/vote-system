<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.itender.ms.mapper.ItenderRoomMapper">
    <resultMap id="itenderRoom" type="com.itender.ms.domain.ItenderRoom">
    	<id column="id" javaType="String" property="id"></id>
        <result column="name" javaType="STRING" property="name"></result>
        <result column="description" javaType="STRING" property="description"></result>
        <result column="level" javaType="STRING" property="level"></result>
        <result column="create_time" javaType="DATE" property="createTime"></result>


    </resultMap>


    <update id="updateRoom" parameterType="com.itender.ms.domain.ItenderRoom">
        UPDATE itender_room
        <trim prefix="SET" suffixOverrides=",">
            <if test="name != null">name=#{name},</if>
        </trim>
        WHERE id = #{id}
    </update>


    <select id="filterAvaliableRoom" resultMap="itenderRoom">
        select * from itender_room where id
        NOT IN
        <foreach collection="roomIds" index="index" item="item" open="(" separator="," close=")">
            #{item}
        </foreach>

    </select>



</mapper>