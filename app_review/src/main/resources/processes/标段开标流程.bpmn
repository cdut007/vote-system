<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsd="http://www.w3.org/2001/XMLSchema" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/test">
  <signal id="beginDecodeSignal" name="beginDecodeSignal"></signal>
  <signal id="beginEvaluationSignal" name="beginEvaluationSignal"></signal>
  <signal id="endDecodeSignal" name="endDecodeSignal"></signal>
  <signal id="startTheIntern" name="startTheIntern"></signal>
  <signal id="endExpertSignSignal" name="endExpertSignSignal"></signal>
  <signal id="endScondDecodeSignal" name="endScondDecodeSignal"></signal>
  <signal id="beginSecondDecodeSignal" name="beginSecondDecodeSignal"></signal>
  <process id="project_item_open" name="标段开标流程" isExecutable="true">
    <startEvent id="startevent4" name="Start"></startEvent>
    <sequenceFlow id="flow192" sourceRef="startevent4" targetRef="scripttask7"></sequenceFlow>
    <intermediateCatchEvent id="signalintermediatecatchevent2" name="SignalCatchEvent">
      <signalEventDefinition signalRef="beginDecodeSignal"></signalEventDefinition>
    </intermediateCatchEvent>
    <userTask id="usertask30" name="第一信封文件解密" activiti:assignee="${userId}" activiti:formKey="redirect:/bidOpen/bidOpenManager?expertApplyId=${execution.processBusinessKey}">
      <documentation>${projectInstanceName} ${projectItemName} 投标文件解密</documentation>
      <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${userService.retrieveTenderUserIdDecode(execution.processBusinessKey,projectItemId)}" activiti:elementVariable="userId"></multiInstanceLoopCharacteristics>
    </userTask>
    <boundaryEvent id="boundarysignal1" name="解密结束" attachedToRef="usertask30" cancelActivity="true">
      <signalEventDefinition signalRef="endDecodeSignal"></signalEventDefinition>
    </boundaryEvent>
    <sequenceFlow id="flow202" sourceRef="boundarysignal1" targetRef="scripttask2"></sequenceFlow>
    <userTask id="usertask29" name="保证金核验" activiti:candidateGroups="${roleId}" activiti:formKey="sign/verifyRecognizance">
      <documentation>${projectInstanceName} ${projectItemName} 投标保证金核验</documentation>
      <extensionElements>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string" expression="${projectItemId}" writable="false"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="flow199" sourceRef="usertask29" targetRef="scripttask3"></sequenceFlow>
    <exclusiveGateway id="exclusivegateway9" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow203" sourceRef="exclusivegateway9" targetRef="subprocess4">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${expertSignEnd}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow204" sourceRef="exclusivegateway9" targetRef="timerintermediatecatchevent1">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!expertSignEnd}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="usertask9" name="初步评审结果合议" activiti:assignee="${expertGroupService.getExpertGroupLeaderByExpertApplyId(execution.processBusinessKey).id}" activiti:formKey="evaluation/reviewResultProjectItemList">
      <documentation>${projectInstanceName} ${projectItemName} ${pre_review_label}合议</documentation>
      <extensionElements>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string" expression="${projectItemId}"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <userTask id="usertask11" name="初步评审结果确认" activiti:assignee="${user.id}" activiti:formKey="evaluation/reviewResultSign">
      <documentation>${projectInstanceName} ${projectItemName} ${pre_review_label}合议结果确认</documentation>
      <extensionElements>
        <activiti:formProperty id="agree" name="是否同意" type="boolean" default="true" required="true"></activiti:formProperty>
        <activiti:formProperty id="disagreeReason" name="不同意原因" type="string"></activiti:formProperty>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string" expression="${projectItemId}"></activiti:formProperty>
        <activiti:taskListener event="complete" expression="${reviewResultSignCompleteListener.execute(execution)}"></activiti:taskListener>
      </extensionElements>
      <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${userService.retrieveExpertSign(execution.processBusinessKey)}" activiti:elementVariable="user"></multiInstanceLoopCharacteristics>
    </userTask>
    <sequenceFlow id="flow23" sourceRef="usertask9" targetRef="usertask11"></sequenceFlow>
    <userTask id="usertask13" name="编辑评标报告" activiti:assignee="${dlrzj0}" activiti:formKey="evaluation/evaluationReport">
      <documentation>${projectInstanceName} ${projectItemName} 编辑评标报告</documentation>
      <extensionElements>
        <activiti:formProperty id="expertApplyId" name="专家申请id" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string" expression="${projectItemId}" writable="false"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <userTask id="usertask14" name="评标报告确认" activiti:assignee="${userId}" activiti:formKey="evaluation/evaluationReportSign">
      <documentation>${projectInstanceName} ${projectItemName} 确认评标报告</documentation>
      <extensionElements>
        <activiti:formProperty id="expertApplyId" name="专家申请id" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string" expression="${projectItemId}" writable="false"></activiti:formProperty>
      </extensionElements>
      <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${expertIdSign}" activiti:elementVariable="userId"></multiInstanceLoopCharacteristics>
    </userTask>
    <sequenceFlow id="flow26" sourceRef="usertask13" targetRef="usertask14"></sequenceFlow>
    <userTask id="usertask15" name="提交评标结果" activiti:assignee="${dlrzj0}" activiti:formKey="evaluation/evaluationReportSubmit">
      <documentation>${projectInstanceName} ${projectItemName} 提交评标结果</documentation>
      <extensionElements>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string" expression="${projectItemId}" writable="false"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="flow28" sourceRef="usertask15" targetRef="exclusivegateway12"></sequenceFlow>
    <endEvent id="endevent1" name="评标结束"></endEvent>
    <exclusiveGateway id="exclusivegateway1" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow125" sourceRef="usertask11" targetRef="exclusivegateway1"></sequenceFlow>
    <sequenceFlow id="flow126" sourceRef="exclusivegateway1" targetRef="exclusivegateway29">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!reviewResultSignRecordService.existsDisagreeReviewResultSignRecord(execution.processBusinessKey,projectItemId)}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow127" sourceRef="exclusivegateway1" targetRef="usertask9">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${reviewResultSignRecordService.existsDisagreeReviewResultSignRecord(execution.processBusinessKey,projectItemId)}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="usertask18" name="详细评审结果确认" activiti:assignee="${userId}" activiti:formKey="evaluation/reviewBusinessScoreSign">
      <documentation>${projectInstanceName} ${projectItemName} 详细评审合议结果确认</documentation>
      <extensionElements>
        <activiti:formProperty id="agree" name="是否同意" type="boolean" default="true" required="true"></activiti:formProperty>
        <activiti:formProperty id="disagreeReason" name="不同意原因" type="string"></activiti:formProperty>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string" expression="${projectItemId}"></activiti:formProperty>
        <activiti:taskListener event="complete" expression="${businessScoreSignCompleteListener.execute(execution)}"></activiti:taskListener>
      </extensionElements>
      <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${expertIdSign}" activiti:elementVariable="userId"></multiInstanceLoopCharacteristics>
    </userTask>
    <subProcess id="subprocess4" name="初步评审">
      <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${expertIdSign}" activiti:elementVariable="userId"></multiInstanceLoopCharacteristics>
      <userTask id="usertask8" name="初步评审" activiti:assignee="${userId}" activiti:formKey="evaluation/preliminaryReviewProjectItemList">
        <documentation>${projectInstanceName} ${projectItemName} ${pre_review_label}</documentation>
        <extensionElements>
          <activiti:formProperty id="projectItemId" name="标段ID" type="string" expression="${projectItemId}"></activiti:formProperty>
          <activiti:taskListener event="complete" expression="${preliminaryEvaluationCompleteListener.execute(execution)}"></activiti:taskListener>
        </extensionElements>
      </userTask>
      <userTask id="usertask21" name="初步评审结果确认" activiti:assignee="${userId}" activiti:formKey="evaluation/myPreliminaryReviewSign">
        <documentation>${projectInstanceName} ${projectItemName} ${pre_review_label}结果确认</documentation>
        <extensionElements>
          <activiti:formProperty id="back" name="返回评审" type="boolean" required="true"></activiti:formProperty>
          <activiti:formProperty id="projectItemId" name="标段ID" type="string" expression="${projectItemId}"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="flow159" sourceRef="usertask21" targetRef="exclusivegateway5"></sequenceFlow>
      <sequenceFlow id="flow157" sourceRef="usertask8" targetRef="usertask21"></sequenceFlow>
      <endEvent id="endevent11" name="End"></endEvent>
      <startEvent id="startevent9" name="Start"></startEvent>
      <sequenceFlow id="flow160" sourceRef="startevent9" targetRef="usertask8"></sequenceFlow>
      <userTask id="usertask17" name="商务评分合议" activiti:assignee="${expertGroupService.getExpertGroupLeaderByExpertApplyId(execution.processBusinessKey).id}">
        <documentation>${projectInstanceName} ${projectItemName} 商务评审合议</documentation>
      </userTask>
      <exclusiveGateway id="exclusivegateway5" name="Exclusive Gateway"></exclusiveGateway>
      <sequenceFlow id="flow173" sourceRef="exclusivegateway5" targetRef="endevent11">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!back}]]></conditionExpression>
      </sequenceFlow>
      <sequenceFlow id="flow177" sourceRef="exclusivegateway5" targetRef="usertask8">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${back}]]></conditionExpression>
      </sequenceFlow>
    </subProcess>
    <sequenceFlow id="flow22" sourceRef="subprocess4" targetRef="usertask9">
      <extensionElements>
        <activiti:executionListener event="take" expression="${preliminaryEvaluationEndListener.execute(execution)}"></activiti:executionListener>
      </extensionElements>
    </sequenceFlow>
    <subProcess id="subprocess5" name="详细评审">
      <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${expertIdSign}" activiti:elementVariable="userId"></multiInstanceLoopCharacteristics>
      <userTask id="usertask12" name="详细评审" activiti:assignee="${userId}" activiti:formKey="evaluation/evaluationProjectItemList">
        <documentation>${projectInstanceName} ${projectItemName} 详细评审</documentation>
        <extensionElements>
          <activiti:formProperty id="projectItemId" name="标段ID" type="string" expression="${projectItemId}"></activiti:formProperty>
          <activiti:taskListener event="complete" expression="${evaluationCompleteListener.execute(execution)}"></activiti:taskListener>
        </extensionElements>
      </userTask>
      <startEvent id="startevent10" name="Start"></startEvent>
      <sequenceFlow id="flow161" sourceRef="startevent10" targetRef="usertask12"></sequenceFlow>
      <userTask id="usertask23" name="详细评审结果确认" activiti:assignee="${userId}" activiti:formKey="evaluation/myEvaluationSign">
        <documentation>${projectInstanceName} ${projectItemName} 详细评审结果确认</documentation>
        <extensionElements>
          <activiti:formProperty id="back" name="返回评审" type="boolean" required="true"></activiti:formProperty>
          <activiti:formProperty id="projectItemId" name="标段ID" type="string" expression="${projectItemId}"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="flow165" sourceRef="usertask12" targetRef="usertask23"></sequenceFlow>
      <endEvent id="endevent12" name="End"></endEvent>
      <sequenceFlow id="flow166" sourceRef="usertask23" targetRef="exclusivegateway6"></sequenceFlow>
      <exclusiveGateway id="exclusivegateway6" name="Exclusive Gateway"></exclusiveGateway>
      <sequenceFlow id="flow175" sourceRef="exclusivegateway6" targetRef="endevent12">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!back}]]></conditionExpression>
      </sequenceFlow>
      <sequenceFlow id="flow176" sourceRef="exclusivegateway6" targetRef="usertask12">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${back}]]></conditionExpression>
      </sequenceFlow>
    </subProcess>
    <exclusiveGateway id="exclusivegateway4" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow167" sourceRef="usertask18" targetRef="exclusivegateway4"></sequenceFlow>
    <userTask id="usertask24" name="详细评审合议" activiti:assignee="${expertGroupService.getExpertGroupLeaderByExpertApplyId(execution.processBusinessKey).id}" activiti:formKey="evaluation/reviewBusinessScore">
      <documentation>${projectInstanceName} ${projectItemName} 详细评审合议</documentation>
      <extensionElements>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string" expression="${projectItemId}"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="flow168" sourceRef="usertask24" targetRef="usertask18"></sequenceFlow>
    <sequenceFlow id="flow171" sourceRef="exclusivegateway4" targetRef="usertask24">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${businessScoreSignRecordService.existsDisagreeBusinessScoreSignRecord(execution.processBusinessKey,projectItemId)}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow172" sourceRef="exclusivegateway4" targetRef="exclusivegateway17">
      <extensionElements>
        <activiti:executionListener event="take" expression="${qualificationResultDetailService.countEffectTender(execution.processBusinessKey,projectItemId,false)}"></activiti:executionListener>
      </extensionElements>
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!businessScoreSignRecordService.existsDisagreeBusinessScoreSignRecord(execution.processBusinessKey,projectItemId)}]]></conditionExpression>
    </sequenceFlow>
    <endEvent id="endevent17" name="开标失败">
      <documentation>保证金审核后不足3家</documentation>
    </endEvent>
    <intermediateCatchEvent id="timerintermediatecatchevent1" name="开始评标">
      <timerEventDefinition>
        <timeDuration>PT5S</timeDuration>
      </timerEventDefinition>
    </intermediateCatchEvent>
    <sequenceFlow id="flow208" sourceRef="signalintermediatecatchevent2" targetRef="exclusivegateway19"></sequenceFlow>
    <scriptTask id="scripttask2" name="统计有效投标人" scriptFormat="groovy" activiti:autoStoreVariables="false">
      <script>	    def map=["projectItemId":projectItemId,"expertApplyId":execution.processBusinessKey,"envelopeTypeOrder":envelopeTypeOrder];
		def num=baseService.getCountByHQL("select count(*) from TBDecryptRecord t where t.projectItemId = :projectItemId and t.expertApplyId = :expertApplyId and t.decryptStatus = '1' and t.envelopeTypeOrder = :envelopeTypeOrder ",map);
		execution.setVariable("count",num);	
		bidOpenRecordService.updateBidOpenRecordEnddecode(execution.processBusinessKey, projectItemId);
		def bidOpenRecord=baseService.retrieveUniqueByHQL("select bidOpenRecord from TBBidOpenRecord bidOpenRecord where bidOpenRecord.projectItemId=:projectItemId and bidOpenRecord.expertApplyId=:expertApplyId",map);
		execution.setVariable("bidOpenRecordId",bidOpenRecord.getId());
		if(num&lt;configBean.getMinBidderOpenCount()){
			bidOpenCheckService.startBidOpenFailedWorkFlow(bidOpenRecordId,"解密后投标人数不足三人");
		}
      
	  </script>
    </scriptTask>
    <exclusiveGateway id="exclusivegateway10" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow210" sourceRef="scripttask2" targetRef="exclusivegateway10"></sequenceFlow>
    <sequenceFlow id="flow211" sourceRef="exclusivegateway10" targetRef="exclusivegateway14">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${count>=configBean.getIntegerProperty('business.minBidderOpenCount') && envelopeTypeOrder=='first' }]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow212" name="不足3家" sourceRef="exclusivegateway10" targetRef="endevent17">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${count<configBean.getIntegerProperty('business.minBidderOpenCount')}]]></conditionExpression>
    </sequenceFlow>
    <scriptTask id="scripttask3" name="统计有效投标人" scriptFormat="groovy" activiti:autoStoreVariables="false">
      <script>
    	 
	    def map=["projectItemId":projectItemId,"expertApplyId":execution.processBusinessKey];
		def num=baseService.getCountByHQL("select count(*) from TBBidFile t where t.projectItemId = :projectItemId and t.expertApplyId = :expertApplyId and t.isContributeDeposit='1'",map);
		execution.setVariable("count",num); 
		if(num&lt;configBean.getMinBidderOpenCount()){
			bidOpenCheckService.startBidOpenFailedWorkFlow(bidOpenRecordId,"保证金审核后投标人数不足三人");
		}		
		
	</script>
    </scriptTask>
    <scriptTask id="scripttask4" name="统计有效投标人" scriptFormat="groovy" activiti:autoStoreVariables="false">
      <script> def map=["projectItemId":projectItemId,"expertApplyId":execution.processBusinessKey];
	  def num=qualificationResultDetailService.countEffectTender(execution.processBusinessKey,projectItemId,true);
      execution.setVariable("count",num);
  	  if(num &lt; configBean.getMinBidderOpenCount()){
		bidOpenCheckService.startBidOpenFailedWorkFlow(bidOpenRecordId,"初步评审后投标人数不足三人");
	  }
	  
	  </script>
    </scriptTask>
    <sequenceFlow id="flow214" sourceRef="exclusivegateway11" targetRef="exclusivegateway15">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${count>=configBean.getIntegerProperty('business.minBidderOpenCount')}]]></conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="exclusivegateway11" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow215" sourceRef="scripttask4" targetRef="exclusivegateway11"></sequenceFlow>
    <endEvent id="endevent18" name="End"></endEvent>
    <sequenceFlow id="flow216" name="不足3家" sourceRef="exclusivegateway11" targetRef="endevent18">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${count<configBean.getIntegerProperty('business.minBidderOpenCount')}]]></conditionExpression>
    </sequenceFlow>
    <scriptTask id="scripttask5" name="计算报价得分" scriptFormat="groovy" activiti:autoStoreVariables="false">
      <script>
      		evaluationMethodService.castPriceScore(execution.processBusinessKey,projectItemId);
      		def needScoreEvaluation=evaluationMethodService.needScoreEvaluation(execution.processBusinessKey,projectItemId);
      		execution.setVariable("needScoreEvaluation",needScoreEvaluation); 	     
      		def needPriceClarify=evaluationMethodService.needPriceClarify(execution.processBusinessKey,projectItemId);
      		execution.setVariable("needPriceClarify",needPriceClarify); 
		def needDetailEvaluation=evaluationMethodService.needDetailEvaluation(execution.processBusinessKey,projectItemId);
      		execution.setVariable("needDetailEvaluation",needDetailEvaluation); 	
      </script>
    </scriptTask>
    <scriptTask id="scripttask7" name="初始化变量" scriptFormat="groovy" activiti:autoStoreVariables="false">
      <script>def expertApplyId=execution.getVariable("expertApplyId");
def projectItemId = execution.getVariable("projectItemId");
def envelopeTypeOrder = "first";
def projectItem = baseService.get("com.mhb.project.entity.TBProjectItem", projectItemId);
def projectInstance=baseService.get("com.mhb.project.entity.TBProjectInstance",projectItem.getProjectInstanceId());
def recruitFile = recruitFileService.findRecruitFile(projectItemId);
def uniqueMethodId = recruitFileService.findEvaluationMethodId(recruitFile.getId());
execution.setVariable("evaluationUniqueMethodId", uniqueMethodId);
execution.setVariable("envelopeType", recruitFile.getEnvelopeType());
execution.setVariable("projectItemName", projectItem.getBdmc00());
execution.setVariable("currentBidStage", projectItem.getCurrentBidStage());
execution.setVariable("dlrzj0",projectInstance.getDlrzj0());
execution.setVariable("envelopeTypeOrder","first");
execution.setVariable("projectItemId",projectItem.getId());
execution.setVariable("projectItemType",projectItem.getProjectItemType());
execution.setVariable("projectInstanceType",projectInstance.getProjectInstanceType());
execution.setVariable("ownerId",projectInstance.getOwnerId());
execution.setVariable("pre_review_label",projectItem.getCurrentBidStage()==2?"初步评审":"资格预审");
runtimeService.updateBusinessKey(execution.getProcessInstanceId(), expertApplyId);
execution.setVariable("needBenchmark_fj",recruitFileService.needBenchMark_fj(projectItemId, expertApplyId)); 
def isGuard=guardianService.guardianIsGuardByItem(projectItemId);
execution.setVariable("isGuard", isGuard);
def guardUserIds=userService.retrieveGuardianIdSignByItem(projectItemId);
execution.setVariable("guardUserIds",guardUserIds);</script>
    </scriptTask>
    <sequenceFlow id="flow219" sourceRef="scripttask7" targetRef="exclusivegateway34"></sequenceFlow>
    <sequenceFlow id="flow220" sourceRef="usertask30" targetRef="scripttask2"></sequenceFlow>
    <exclusiveGateway id="exclusivegateway12" name="Exclusive Gateway"></exclusiveGateway>
    <userTask id="usertask31" name="确认评标报告" activiti:assignee="${ownerId}" activiti:formKey="evaluation/evaluationReportSubmit">
      <documentation>${projectInstanceName} ${projectItemName} 确认评标报告</documentation>
      <extensionElements>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="flow222" sourceRef="exclusivegateway12" targetRef="usertask31">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${not empty ownerId}]]></conditionExpression>
    </sequenceFlow>
    <scriptTask id="scripttask8" name="专家签到检查脚本" scriptFormat="groovy" activiti:autoStoreVariables="false">
      <script>def map=["expertApplyId":execution.processBusinessKey];
    def expertIdList = baseDao.retrieveByHQL("select distinct user.id from TBUser user,TBSign sign where user.id=sign.userId and sign.userType='1' and sign.expertApplyId=:expertApplyId", map);
	def expertSignEnd=expertIdSign.size()==expertIdList.size();
	def finalExpertIdSign = userService.retrieveExpertIdSign(execution.processBusinessKey);
	execution.setVariable('expertIdSign',finalExpertIdSign);
	execution.setVariable("expertSignEnd",expertSignEnd);</script>
    </scriptTask>
    <sequenceFlow id="flow225" sourceRef="timerintermediatecatchevent1" targetRef="scripttask8"></sequenceFlow>
    <sequenceFlow id="flow226" sourceRef="scripttask8" targetRef="exclusivegateway9"></sequenceFlow>
    <sequenceFlow id="flow227" sourceRef="subprocess5" targetRef="scripttask11">
      <extensionElements>
        <activiti:executionListener event="take" expression="${evaluationEndListener.execute(execution)}"></activiti:executionListener>
      </extensionElements>
    </sequenceFlow>
    <exclusiveGateway id="exclusivegateway13" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow228" sourceRef="exclusivegateway13" targetRef="endevent17">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${count<configBean.getIntegerProperty('business.minBidderOpenCount')}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow229" sourceRef="scripttask3" targetRef="exclusivegateway13"></sequenceFlow>
    <sequenceFlow id="flow230" sourceRef="exclusivegateway13" targetRef="scripttask8">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${count>=configBean.getIntegerProperty('business.minBidderOpenCount')}]]></conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="exclusivegateway14" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow231" sourceRef="exclusivegateway14" targetRef="usertask29">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${currentBidStage=='2' && envelopeTypeOrder=='first'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow232" sourceRef="exclusivegateway14" targetRef="scripttask8">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${currentBidStage=='1' || envelopeTypeOrder!='first'}]]></conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="exclusivegateway15" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow233" sourceRef="exclusivegateway15" targetRef="scripttask10">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${currentBidStage=='2'}]]></conditionExpression>
    </sequenceFlow>
    <endEvent id="endevent19" name="End"></endEvent>
    <sequenceFlow id="flow234" sourceRef="exclusivegateway15" targetRef="endevent19">
      <extensionElements>
        <activiti:executionListener event="take" expression="${projectItemService.updateProjectItemStage(projectItemId,execution.processBusinessKey)}"></activiti:executionListener>
      </extensionElements>
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${currentBidStage=='1'}]]></conditionExpression>
    </sequenceFlow>
    <serviceTask id="servicetask1" name="评标报告状态更新" activiti:expression="${evaluationReportService.updateEvaluationReportStatus(execution.processBusinessKey,projectItemId)}"></serviceTask>
    <sequenceFlow id="flow235" sourceRef="exclusivegateway12" targetRef="exclusivegateway35">
      <extensionElements>
        <activiti:executionListener event="take" expression="${guardianService.strartGuardianWorkflowByItemId(execution.processBusinessKey,projectItemId,'auditResult')}"></activiti:executionListener>
      </extensionElements>
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${empty ownerId}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow236" sourceRef="usertask31" targetRef="exclusivegateway35">
      <extensionElements>
        <activiti:executionListener event="take" expression="${guardianService.strartGuardianWorkflowByItemId(execution.processBusinessKey,projectItemId,'auditResult')}"></activiti:executionListener>
      </extensionElements>
    </sequenceFlow>
    <sequenceFlow id="flow237" sourceRef="servicetask1" targetRef="endevent1"></sequenceFlow>
    <userTask id="usertask32" name="第二信封文件解密" activiti:assignee="${userId}" activiti:formKey="redirect:/bidOpen/bidOpenManager?expertApplyId=${execution.processBusinessKey}">
      <documentation>${projectInstanceName} ${projectItemName} 投标文件第二信封解密</documentation>
      <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${userService.retrieveTenderUserIdDecodeAfterFirst(execution.processBusinessKey,projectItemId)}" activiti:elementVariable="userId"></multiInstanceLoopCharacteristics>
    </userTask>
    <boundaryEvent id="boundarysignal2" name="第二信封解密结束" attachedToRef="usertask32" cancelActivity="true">
      <signalEventDefinition signalRef="endScondDecodeSignal"></signalEventDefinition>
    </boundaryEvent>
    <sequenceFlow id="flow244" sourceRef="boundarysignal2" targetRef="scripttask2"></sequenceFlow>
    <exclusiveGateway id="exclusivegateway17" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow245" sourceRef="exclusivegateway17" targetRef="usertask13">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${envelopeTypeOrder=='second' || envelopeType=='one' }]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow246" sourceRef="exclusivegateway17" targetRef="exclusivegateway22">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${envelopeTypeOrder=='first' && envelopeType=='two' }]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow247" sourceRef="exclusivegateway10" targetRef="subprocess4">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${count>=configBean.getIntegerProperty('business.minBidderOpenCount') && envelopeTypeOrder=='second' }]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow248" sourceRef="usertask32" targetRef="scripttask2"></sequenceFlow>
    <scriptTask id="scripttask9" name="第二信封参数更新" scriptFormat="groovy" activiti:autoStoreVariables="false">
      <script>
      		execution.setVariable("envelopeTypeOrder","second");
			def envelopeTypeOrder = "second";
			evaluationMethodService.updateJTTechMethodEffectionTenders(execution.processBusinessKey,projectItemId);
		</script>
    </scriptTask>
    <sequenceFlow id="flow249" sourceRef="scripttask9" targetRef="signalintermediatecatchevent3"></sequenceFlow>
    <intermediateCatchEvent id="signalintermediatecatchevent3" name="SignalCatchEvent">
      <signalEventDefinition signalRef="beginSecondDecodeSignal"></signalEventDefinition>
    </intermediateCatchEvent>
    <sequenceFlow id="flow250" sourceRef="signalintermediatecatchevent3" targetRef="usertask32"></sequenceFlow>
    <exclusiveGateway id="exclusivegateway18" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow251" sourceRef="usertask14" targetRef="exclusivegateway18"></sequenceFlow>
    <sequenceFlow id="flow252" sourceRef="exclusivegateway18" targetRef="usertask15">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!evaluationReportSignService.existsDisagreeEvaluationReportSignRecord(execution.processBusinessKey,projectItemId)}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow253" sourceRef="exclusivegateway18" targetRef="usertask13">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${evaluationReportSignService.existsDisagreeEvaluationReportSignRecord(execution.processBusinessKey,projectItemId)}]]></conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="exclusivegateway19" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow254" sourceRef="exclusivegateway19" targetRef="usertask30">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!needBenchmark_fj}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="usertask33" name="基准价系数抽取" activiti:assignee="${dlrzj0}" activiti:formKey="document/benchmark_choose_fj">
      <documentation>${projectInstanceName} ${projectItemName} 基准价系数抽取</documentation>
      <extensionElements>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="flow255" sourceRef="exclusivegateway19" targetRef="usertask33">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${needBenchmark_fj}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow256" sourceRef="usertask33" targetRef="usertask30"></sequenceFlow>
    <scriptTask id="scripttask10" name="是否需要抽取基准价系数和发起算术性错误修正表" scriptFormat="groovy" activiti:autoStoreVariables="false">
      <script>
			execution.setVariable("needBenchmark",recruitFileService.needBenchMark(projectItemId, envelopeTypeOrder)); 
			execution.setVariable("needBidFileClarifi",evaluationMethodService.needBidFileClarifi(execution.processBusinessKey, projectItemId)); 
			execution.setVariable("needBidderExtraction",evaluationMethodService.needBidderExtraction(execution.processBusinessKey, projectItemId)); 
		</script>
    </scriptTask>
    <sequenceFlow id="flow257" sourceRef="scripttask10" targetRef="exclusivegateway23"></sequenceFlow>
    <exclusiveGateway id="exclusivegateway20" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow258" sourceRef="exclusivegateway20" targetRef="exclusivegateway32">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${needScoreEvaluation}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="usertask34" name="评分结果确认" activiti:assignee="${userId}" activiti:formKey="evaluation/confirmBusinessScoreSign">
      <documentation>${projectInstanceName} ${projectItemName} 详细评分结果确认</documentation>
      <extensionElements>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string"></activiti:formProperty>
      </extensionElements>
      <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${expertIdSign}" activiti:elementVariable="userId"></multiInstanceLoopCharacteristics>
    </userTask>
    <sequenceFlow id="flow259" sourceRef="exclusivegateway20" targetRef="exclusivegateway21">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!needScoreEvaluation}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow260" sourceRef="exclusivegateway30" targetRef="usertask13">
      <extensionElements>
        <activiti:executionListener event="take" expression="${qualificationResultDetailService.countEffectTender(execution.processBusinessKey,projectItemId,false)}"></activiti:executionListener>
        <activiti:executionListener event="take" expression="${evaluationEndListener.execute(execution)}"></activiti:executionListener>
      </extensionElements>
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!(evaluationUniqueMethodId=='JT_REASONABLE_PRICE_METHOD')}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="usertask35" name="报价结果确认(报价澄清)" activiti:assignee="${expertGroupService.getExpertGroupLeaderByExpertApplyId(execution.processBusinessKey).id}" activiti:formKey="evaluation/confirmBusinessScore">
      <documentation>${projectInstanceName} ${projectItemName} 报价结果确认</documentation>
      <extensionElements>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="flow261" sourceRef="usertask35" targetRef="usertask34"></sequenceFlow>
    <exclusiveGateway id="exclusivegateway21" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow262" sourceRef="exclusivegateway21" targetRef="usertask35">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${needPriceClarify}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow263" sourceRef="exclusivegateway21" targetRef="usertask34">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!needPriceClarify}]]></conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="exclusivegateway22" name="Exclusive Gateway"></exclusiveGateway>
    <userTask id="usertask36" name="交通技术评分人数抽取" activiti:assignee="${dlrzj0}" activiti:formKey="evaluation/retrieveBidderNumOfJTTech">
      <documentation>${projectInstanceName} ${projectItemName} 技术评分最低标价法投标人数抽取</documentation>
      <extensionElements>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="flow264" sourceRef="exclusivegateway22" targetRef="usertask36">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${'JT_TECH_SCORE_LOWEST_PRICE_METHOD'==evaluationUniqueMethodId}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow265" sourceRef="exclusivegateway22" targetRef="scripttask9">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${'JT_TECH_SCORE_LOWEST_PRICE_METHOD'!=evaluationUniqueMethodId}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow266" sourceRef="usertask36" targetRef="scripttask9"></sequenceFlow>
    <userTask id="usertask37" name="发起算术性错误修正表" activiti:assignee="${expertGroupService.getExpertGroupLeaderByExpertApplyId(execution.processBusinessKey).id}" activiti:formKey="sign/revise">
      <documentation>${projectInstanceName} ${projectItemName} 是否需要发起算术性错误修正表</documentation>
      <extensionElements>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string"></activiti:formProperty>
        <activiti:formProperty id="pass" name="pass" type="boolean"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <exclusiveGateway id="exclusivegateway23" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow268" sourceRef="exclusivegateway23" targetRef="usertask37">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${needBidFileClarifi}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow269" sourceRef="exclusivegateway23" targetRef="exclusivegateway33">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!needBidFileClarifi}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow270" sourceRef="usertask37" targetRef="exclusivegateway36"></sequenceFlow>
    <scriptTask id="scripttask11" name="再次计算报价得分" scriptFormat="groovy" activiti:autoStoreVariables="false">
      <script>
    		evaluationMethodService.castPriceScore(execution.processBusinessKey,projectItemId,true);
    	 </script>
    </scriptTask>
    <sequenceFlow id="flow271" sourceRef="scripttask11" targetRef="usertask24">
      <extensionElements>
        <activiti:executionListener event="take" expression="${tenderTotalScoreService.initialTenderAvgScore(projectItemId,execution.processBusinessKey,'')}"></activiti:executionListener>
      </extensionElements>
    </sequenceFlow>
    <userTask id="usertask38" name="理论成本评审" activiti:assignee="${userId}" activiti:formKey="evaluation/determinationOfTenderOffer">
      <documentation>${projectInstanceName} ${projectItemName} 确认成本评审记录表</documentation>
      <extensionElements>
        <activiti:formProperty id="projectItemId" name="标段Id" type="string"></activiti:formProperty>
      </extensionElements>
      <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${expertIdSign}" activiti:elementVariable="userId"></multiInstanceLoopCharacteristics>
    </userTask>
    <exclusiveGateway id="exclusivegateway24" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow273" sourceRef="exclusivegateway24" targetRef="exclusivegateway31">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!(envelopeTypeOrder=='first'&&(projectInstanceType=='A01'||projectInstanceType=='A02')&&projectItemType=='A')}]]></conditionExpression>
    </sequenceFlow>
    <scriptTask id="scripttask12" name="统计有效投标人" scriptFormat="groovy" activiti:autoStoreVariables="false">
      <script>	  def num=qualificationResultDetailService.countTheoreticalReview(projectItemId);
      execution.setVariable("count",num);
  	  if(num &lt; configBean.getMinBidderOpenCount()){
		bidOpenCheckService.startBidOpenFailedWorkFlow(bidOpenRecordId,"理论性评审后投标人数不足三人");
	  }
	  
	  </script>
    </scriptTask>
    <exclusiveGateway id="exclusivegateway25" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow275" sourceRef="usertask38" targetRef="scripttask12"></sequenceFlow>
    <sequenceFlow id="flow276" sourceRef="scripttask12" targetRef="exclusivegateway25"></sequenceFlow>
    <sequenceFlow id="flow277" sourceRef="exclusivegateway25" targetRef="scripttask5">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${count>=configBean.getIntegerProperty('business.minBidderOpenCount')&&evaluationUniqueMethodId!='FWSZ_BMK_5' }]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow278" sourceRef="exclusivegateway25" targetRef="endevent18">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${count<configBean.getIntegerProperty('business.minBidderOpenCount')}]]></conditionExpression>
    </sequenceFlow>
    <serviceTask id="servicetask2" name="生成成本评审记录表" activiti:expression="${evaluationService.determinationOfTenderOffer(projectItemId)}"></serviceTask>
    <sequenceFlow id="flow279" sourceRef="exclusivegateway24" targetRef="servicetask2">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${envelopeTypeOrder=='first'&&(projectInstanceType=='A01'||projectInstanceType=='A02')&&projectItemType=='A' }]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow280" sourceRef="servicetask2" targetRef="usertask38"></sequenceFlow>
    <sequenceFlow id="flow281" sourceRef="scripttask5" targetRef="exclusivegateway20"></sequenceFlow>
    <userTask id="usertask39" name="合理性评审" activiti:assignee="${userId}" activiti:formKey="evaluation/rationalityReview">
      <documentation>${projectInstanceName} ${projectItemName} 合理性评审</documentation>
      <extensionElements>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string"></activiti:formProperty>
      </extensionElements>
      <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${expertIdSign}" activiti:elementVariable="userId"></multiInstanceLoopCharacteristics>
    </userTask>
    <exclusiveGateway id="exclusivegateway26" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow282" sourceRef="exclusivegateway25" targetRef="scripttask14">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${count>=configBean.getIntegerProperty('business.minBidderOpenCount')&&evaluationUniqueMethodId=='FWSZ_BMK_5' }]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow283" sourceRef="usertask39" targetRef="scripttask13"></sequenceFlow>
    <sequenceFlow id="flow284" sourceRef="exclusivegateway26" targetRef="subprocess5">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${count>=configBean.getIntegerProperty('business.minBidderOpenCount') }]]></conditionExpression>
    </sequenceFlow>
    <endEvent id="endevent20" name="End"></endEvent>
    <sequenceFlow id="flow285" sourceRef="exclusivegateway26" targetRef="endevent20">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${count<configBean.getIntegerProperty('business.minBidderOpenCount')}]]></conditionExpression>
    </sequenceFlow>
    <scriptTask id="scripttask13" name="统计有效投标人" scriptFormat="groovy" activiti:autoStoreVariables="true">
      <script>     def num=qualificationResultDetailService.countRationalityReview(execution.processBusinessKey,projectItemId);
     execution.setVariable("count",num);
  	  if(num &lt; configBean.getMinBidderOpenCount()){
		bidOpenCheckService.startBidOpenFailedWorkFlow(bidOpenRecordId,"合理性评审后投标人数不足三人");
	  }
	  </script>
    </scriptTask>
    <sequenceFlow id="flow286" sourceRef="scripttask13" targetRef="exclusivegateway26"></sequenceFlow>
    <scriptTask id="scripttask14" name="是否需要合理性评审" scriptFormat="groovy" activiti:autoStoreVariables="true">
      <script>def needRationalityReview=evaluationMethodService.needRationalityReview(execution.processBusinessKey,projectItemId);
execution.setVariable("needRationalityReview",needRationalityReview);    </script>
    </scriptTask>
    <exclusiveGateway id="exclusivegateway27" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow287" sourceRef="scripttask14" targetRef="exclusivegateway27"></sequenceFlow>
    <sequenceFlow id="flow288" sourceRef="exclusivegateway27" targetRef="usertask39">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${needRationalityReview}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow289" sourceRef="exclusivegateway27" targetRef="subprocess5">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!needRationalityReview}]]></conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="exclusivegateway29" name="Exclusive Gateway"></exclusiveGateway>
    <userTask id="usertask41" name="专家确认清标结果" activiti:assignee="${user.id}" activiti:formKey="evaluation/clearTheresultsSignature">
      <documentation>${projectInstanceName} ${projectItemName}确认清标结果</documentation>
      <extensionElements>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string" expression="${projectItemId}"></activiti:formProperty>
      </extensionElements>
      <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${userService.retrieveExpertSign(execution.processBusinessKey)}" activiti:elementVariable="user"></multiInstanceLoopCharacteristics>
    </userTask>
    <sequenceFlow id="flow292" sourceRef="exclusivegateway29" targetRef="scripttask4">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!(envelopeTypeOrder=='first'&&(projectInstanceType=='A01'||projectInstanceType=='A02')&&projectItemType=='A')}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow293" sourceRef="usertask41" targetRef="scripttask4"></sequenceFlow>
    <serviceTask id="servicetask3" name="清标检测" activiti:expression="${qualificationResultDetailService.clearTheCheck(projectItemId)}"></serviceTask>
    <sequenceFlow id="flow294" sourceRef="exclusivegateway29" targetRef="servicetask3">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${envelopeTypeOrder=='first'&&(projectInstanceType=='A01'||projectInstanceType=='A02')&&projectItemType=='A' }]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow295" sourceRef="servicetask3" targetRef="usertask41"></sequenceFlow>
    <userTask id="usertask42" name="信用等级录入" activiti:assignee="${dlrzj0}" activiti:formKey="sign/TrafficCredit">
      <documentation>${projectInstanceName} ${projectItemName} 信用等级录入</documentation>
      <extensionElements>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="flow296" sourceRef="usertask43" targetRef="usertask13">
      <extensionElements>
        <activiti:executionListener event="take" expression="${qualificationResultDetailService.countEffectTender(execution.processBusinessKey,projectItemId,false)}"></activiti:executionListener>
        <activiti:executionListener event="take" expression="${evaluationEndListener.execute(execution)}"></activiti:executionListener>
      </extensionElements>
    </sequenceFlow>
    <sequenceFlow id="flow297" sourceRef="usertask42" targetRef="usertask43"></sequenceFlow>
    <userTask id="usertask43" name="专家确认信用分及投标人得分" activiti:assignee="${userId}" activiti:formKey="evaluation/TrafficCreditScoreSign">
      <documentation>${projectInstanceName} ${projectItemName} 确认信用得分及投标人得分</documentation>
      <extensionElements>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string"></activiti:formProperty>
      </extensionElements>
      <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${expertIdSign}" activiti:elementVariable="userId"></multiInstanceLoopCharacteristics>
    </userTask>
    <sequenceFlow id="flow298" sourceRef="exclusivegateway30" targetRef="usertask42">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${evaluationUniqueMethodId=='JT_REASONABLE_PRICE_METHOD'}]]></conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="exclusivegateway30" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow299" sourceRef="usertask34" targetRef="exclusivegateway30"></sequenceFlow>
    <intermediateCatchEvent id="signalintermediatecatchevent4" name="SignalCatchEvent">
      <signalEventDefinition signalRef="startTheIntern"></signalEventDefinition>
    </intermediateCatchEvent>
    <sequenceFlow id="flow300" sourceRef="signalintermediatecatchevent4" targetRef="subprocess4"></sequenceFlow>
    <userTask id="usertask44" name="基准价系数抽取" activiti:assignee="${dlrzj0}" activiti:formKey="document/benchmark_choose">
      <documentation>${projectInstanceName} ${projectItemName} 基准价系数抽取</documentation>
      <extensionElements>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <exclusiveGateway id="exclusivegateway31" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow301" sourceRef="exclusivegateway31" targetRef="usertask44">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${needBenchmark&&envelopeTypeOrder=='second'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow302" sourceRef="exclusivegateway31" targetRef="scripttask5">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!(needBenchmark&&envelopeTypeOrder=='second')}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow303" sourceRef="usertask44" targetRef="scripttask5"></sequenceFlow>
    <exclusiveGateway id="exclusivegateway32" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow305" sourceRef="exclusivegateway32" targetRef="subprocess5">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${needDetailEvaluation}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow306" sourceRef="exclusivegateway32" targetRef="exclusivegateway22">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!needDetailEvaluation}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="usertask45" name="评标均价投标人抽取" activiti:assignee="${dlrzj0}" activiti:formKey="document/benchmark_choose_fj_2">
      <documentation>${projectInstanceName} ${projectItemName} 评标均价投标人抽取</documentation>
      <extensionElements>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <exclusiveGateway id="exclusivegateway33" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow307" sourceRef="exclusivegateway33" targetRef="usertask45">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${needBidderExtraction}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow308" sourceRef="usertask45" targetRef="exclusivegateway24"></sequenceFlow>
    <sequenceFlow id="flow309" sourceRef="exclusivegateway33" targetRef="exclusivegateway24">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!needBidderExtraction}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow310" sourceRef="usertask46" targetRef="servicetask1"></sequenceFlow>
    <exclusiveGateway id="exclusivegateway34" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow311" sourceRef="exclusivegateway34" targetRef="signalintermediatecatchevent2">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${preliminaryReview==null||preliminaryReview==''||preliminaryReview=='0'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow312" sourceRef="exclusivegateway34" targetRef="scripttask8">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${preliminaryReview=='1'}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="usertask46" name="监标人审核" activiti:assignee="${guarder}" activiti:formKey="forward:/guardian/guardianItemUI?expertApplyId=${execution.getVariable(&quot;expertApplyId&quot;)}&amp;projectItemId=${execution.getVariable(&quot;projectItemId&quot;)}&amp;guardianStatus=auditResult">
      <documentation>${projectInstanceName} ${projectItemName}评标报告审核</documentation>
      <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${guardUserIds}" activiti:elementVariable="guarder"></multiInstanceLoopCharacteristics>
    </userTask>
    <exclusiveGateway id="exclusivegateway35" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow313" sourceRef="exclusivegateway35" targetRef="usertask46">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${not empty isGuard&&isGuard}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow314" sourceRef="exclusivegateway35" targetRef="servicetask1">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${empty isGuard||!isGuard}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="usertask47" name="修正表专家确认" activiti:assignee="${user.id}" activiti:formKey="sign/bidfile_revise_confirm">
      <documentation>${projectInstanceName} ${projectItemName} 算术性错误修正表结果确认</documentation>
      <extensionElements>
        <activiti:formProperty id="projectItemId" name="标段ID" type="string"></activiti:formProperty>
      </extensionElements>
      <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${userService.retrieveExpertSign(execution.processBusinessKey)}" activiti:elementVariable="user"></multiInstanceLoopCharacteristics>
    </userTask>
    <sequenceFlow id="flow315" sourceRef="usertask47" targetRef="exclusivegateway33"></sequenceFlow>
    <exclusiveGateway id="exclusivegateway36" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow316" sourceRef="exclusivegateway36" targetRef="usertask47"></sequenceFlow>
    <sequenceFlow id="flow317" sourceRef="exclusivegateway36" targetRef="exclusivegateway33"></sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_project_item_open">
    <bpmndi:BPMNPlane bpmnElement="project_item_open" id="BPMNPlane_project_item_open">
      <bpmndi:BPMNShape bpmnElement="startevent4" id="BPMNShape_startevent4">
        <omgdc:Bounds height="35.0" width="35.0" x="1.0" y="763.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="signalintermediatecatchevent2" id="BPMNShape_signalintermediatecatchevent2">
        <omgdc:Bounds height="35.0" width="35.0" x="268.0" y="608.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask30" id="BPMNShape_usertask30">
        <omgdc:Bounds height="55.0" width="105.0" x="233.0" y="341.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="boundarysignal1" id="BPMNShape_boundarysignal1">
        <omgdc:Bounds height="30.0" width="30.0" x="273.0" y="326.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask29" id="BPMNShape_usertask29">
        <omgdc:Bounds height="55.0" width="105.0" x="471.0" y="304.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway9" id="BPMNShape_exclusivegateway9">
        <omgdc:Bounds height="40.0" width="40.0" x="404.0" y="642.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask9" id="BPMNShape_usertask9">
        <omgdc:Bounds height="55.0" width="105.0" x="656.0" y="676.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask11" id="BPMNShape_usertask11">
        <omgdc:Bounds height="55.0" width="105.0" x="794.0" y="598.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask13" id="BPMNShape_usertask13">
        <omgdc:Bounds height="55.0" width="105.0" x="1634.0" y="304.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask14" id="BPMNShape_usertask14">
        <omgdc:Bounds height="55.0" width="105.0" x="1639.0" y="431.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask15" id="BPMNShape_usertask15">
        <omgdc:Bounds height="55.0" width="105.0" x="1642.0" y="606.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent1" id="BPMNShape_endevent1">
        <omgdc:Bounds height="35.0" width="35.0" x="1842.0" y="902.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway1" id="BPMNShape_exclusivegateway1">
        <omgdc:Bounds height="40.0" width="40.0" x="831.0" y="683.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask18" id="BPMNShape_usertask18">
        <omgdc:Bounds height="55.0" width="105.0" x="1510.0" y="750.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="subprocess4" id="BPMNShape_subprocess4">
        <omgdc:Bounds height="341.0" width="161.0" x="625.0" y="276.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask8" id="BPMNShape_usertask8">
        <omgdc:Bounds height="55.0" width="105.0" x="638.0" y="346.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask21" id="BPMNShape_usertask21">
        <omgdc:Bounds height="55.0" width="105.0" x="638.0" y="422.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent11" id="BPMNShape_endevent11">
        <omgdc:Bounds height="35.0" width="35.0" x="673.0" y="566.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="startevent9" id="BPMNShape_startevent9">
        <omgdc:Bounds height="35.0" width="35.0" x="673.0" y="291.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask17" id="BPMNShape_usertask17">
        <omgdc:Bounds height="55.0" width="105.0" x="1105.0" y="494.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway5" id="BPMNShape_exclusivegateway5">
        <omgdc:Bounds height="40.0" width="40.0" x="670.0" y="501.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="subprocess5" id="BPMNShape_subprocess5">
        <omgdc:Bounds height="332.0" width="157.0" x="1311.0" y="505.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask12" id="BPMNShape_usertask12">
        <omgdc:Bounds height="55.0" width="105.0" x="1321.0" y="580.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="startevent10" id="BPMNShape_startevent10">
        <omgdc:Bounds height="35.0" width="35.0" x="1356.0" y="520.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask23" id="BPMNShape_usertask23">
        <omgdc:Bounds height="55.0" width="105.0" x="1321.0" y="650.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent12" id="BPMNShape_endevent12">
        <omgdc:Bounds height="35.0" width="35.0" x="1356.0" y="790.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway6" id="BPMNShape_exclusivegateway6">
        <omgdc:Bounds height="40.0" width="40.0" x="1353.0" y="730.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway4" id="BPMNShape_exclusivegateway4">
        <omgdc:Bounds height="40.0" width="40.0" x="1661.0" y="762.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask24" id="BPMNShape_usertask24">
        <omgdc:Bounds height="55.0" width="105.0" x="1510.0" y="614.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent17" id="BPMNShape_endevent17">
        <omgdc:Bounds height="35.0" width="35.0" x="506.0" y="242.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="timerintermediatecatchevent1" id="BPMNShape_timerintermediatecatchevent1">
        <omgdc:Bounds height="35.0" width="35.0" x="361.0" y="568.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="scripttask2" id="BPMNShape_scripttask2">
        <omgdc:Bounds height="55.0" width="105.0" x="233.0" y="208.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway10" id="BPMNShape_exclusivegateway10">
        <omgdc:Bounds height="40.0" width="40.0" x="404.0" y="215.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="scripttask3" id="BPMNShape_scripttask3">
        <omgdc:Bounds height="55.0" width="105.0" x="471.0" y="403.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="scripttask4" id="BPMNShape_scripttask4">
        <omgdc:Bounds height="55.0" width="105.0" x="769.0" y="812.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway11" id="BPMNShape_exclusivegateway11">
        <omgdc:Bounds height="40.0" width="40.0" x="889.0" y="830.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent18" id="BPMNShape_endevent18">
        <omgdc:Bounds height="35.0" width="35.0" x="956.0" y="833.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="scripttask5" id="BPMNShape_scripttask5">
        <omgdc:Bounds height="55.0" width="105.0" x="1151.0" y="393.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="scripttask7" id="BPMNShape_scripttask7">
        <omgdc:Bounds height="55.0" width="105.0" x="156.0" y="750.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway12" id="BPMNShape_exclusivegateway12">
        <omgdc:Bounds height="40.0" width="40.0" x="1839.0" y="610.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask31" id="BPMNShape_usertask31">
        <omgdc:Bounds height="55.0" width="105.0" x="1663.0" y="687.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="scripttask8" id="BPMNShape_scripttask8">
        <omgdc:Bounds height="55.0" width="105.0" x="372.0" y="468.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway13" id="BPMNShape_exclusivegateway13">
        <omgdc:Bounds height="40.0" width="40.0" x="503.0" y="475.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway14" id="BPMNShape_exclusivegateway14">
        <omgdc:Bounds height="40.0" width="40.0" x="404.0" y="314.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway15" id="BPMNShape_exclusivegateway15">
        <omgdc:Bounds height="40.0" width="40.0" x="889.0" y="531.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent19" id="BPMNShape_endevent19">
        <omgdc:Bounds height="35.0" width="35.0" x="829.0" y="532.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="servicetask1" id="BPMNShape_servicetask1">
        <omgdc:Bounds height="55.0" width="105.0" x="1807.0" y="820.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask32" id="BPMNShape_usertask32">
        <omgdc:Bounds height="55.0" width="105.0" x="91.0" y="208.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="boundarysignal2" id="BPMNShape_boundarysignal2">
        <omgdc:Bounds height="30.0" width="30.0" x="140.0" y="197.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway17" id="BPMNShape_exclusivegateway17">
        <omgdc:Bounds height="40.0" width="40.0" x="972.0" y="94.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="scripttask9" id="BPMNShape_scripttask9">
        <omgdc:Bounds height="55.0" width="105.0" x="351.0" y="120.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="signalintermediatecatchevent3" id="BPMNShape_signalintermediatecatchevent3">
        <omgdc:Bounds height="35.0" width="35.0" x="126.0" y="130.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway18" id="BPMNShape_exclusivegateway18">
        <omgdc:Bounds height="40.0" width="40.0" x="1675.0" y="524.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway19" id="BPMNShape_exclusivegateway19">
        <omgdc:Bounds height="40.0" width="40.0" x="265.0" y="531.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask33" id="BPMNShape_usertask33">
        <omgdc:Bounds height="55.0" width="105.0" x="233.0" y="440.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="scripttask10" id="BPMNShape_scripttask10">
        <omgdc:Bounds height="58.0" width="105.0" x="832.0" y="449.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway20" id="BPMNShape_exclusivegateway20">
        <omgdc:Bounds height="40.0" width="40.0" x="1360.0" y="335.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask34" id="BPMNShape_usertask34">
        <omgdc:Bounds height="55.0" width="105.0" x="1473.0" y="164.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask35" id="BPMNShape_usertask35">
        <omgdc:Bounds height="75.0" width="105.0" x="1328.0" y="154.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway21" id="BPMNShape_exclusivegateway21">
        <omgdc:Bounds height="40.0" width="40.0" x="1360.0" y="264.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway22" id="BPMNShape_exclusivegateway22">
        <omgdc:Bounds height="40.0" width="40.0" x="831.0" y="94.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask36" id="BPMNShape_usertask36">
        <omgdc:Bounds height="75.0" width="105.0" x="590.0" y="110.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask37" id="BPMNShape_usertask37">
        <omgdc:Bounds height="66.0" width="105.0" x="779.0" y="169.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway23" id="BPMNShape_exclusivegateway23">
        <omgdc:Bounds height="40.0" width="40.0" x="811.0" y="356.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="scripttask11" id="BPMNShape_scripttask11">
        <omgdc:Bounds height="55.0" width="105.0" x="1510.0" y="502.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask38" id="BPMNShape_usertask38">
        <omgdc:Bounds height="62.0" width="105.0" x="1021.0" y="485.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway24" id="BPMNShape_exclusivegateway24">
        <omgdc:Bounds height="40.0" width="40.0" x="1082.0" y="307.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="scripttask12" id="BPMNShape_scripttask12">
        <omgdc:Bounds height="55.0" width="105.0" x="981.0" y="590.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway25" id="BPMNShape_exclusivegateway25">
        <omgdc:Bounds height="40.0" width="40.0" x="1013.0" y="703.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="servicetask2" id="BPMNShape_servicetask2">
        <omgdc:Bounds height="55.0" width="105.0" x="1032.0" y="383.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask39" id="BPMNShape_usertask39">
        <omgdc:Bounds height="55.0" width="105.0" x="1162.0" y="728.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway26" id="BPMNShape_exclusivegateway26">
        <omgdc:Bounds height="40.0" width="40.0" x="1194.0" y="565.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent20" id="BPMNShape_endevent20">
        <omgdc:Bounds height="35.0" width="35.0" x="1197.0" y="478.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="scripttask13" id="BPMNShape_scripttask13">
        <omgdc:Bounds height="55.0" width="105.0" x="1162.0" y="622.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="scripttask14" id="BPMNShape_scripttask14">
        <omgdc:Bounds height="55.0" width="105.0" x="1042.0" y="812.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway27" id="BPMNShape_exclusivegateway27">
        <omgdc:Bounds height="40.0" width="40.0" x="1194.0" y="819.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway29" id="BPMNShape_exclusivegateway29">
        <omgdc:Bounds height="40.0" width="40.0" x="681.0" y="747.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask41" id="BPMNShape_usertask41">
        <omgdc:Bounds height="55.0" width="105.0" x="649.0" y="902.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="servicetask3" id="BPMNShape_servicetask3">
        <omgdc:Bounds height="55.0" width="105.0" x="649.0" y="812.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask42" id="BPMNShape_usertask42">
        <omgdc:Bounds height="55.0" width="105.0" x="1478.0" y="328.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask43" id="BPMNShape_usertask43">
        <omgdc:Bounds height="55.0" width="105.0" x="1480.0" y="403.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway30" id="BPMNShape_exclusivegateway30">
        <omgdc:Bounds height="40.0" width="40.0" x="1510.0" y="257.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="signalintermediatecatchevent4" id="BPMNShape_signalintermediatecatchevent4">
        <omgdc:Bounds height="35.0" width="35.0" x="582.0" y="645.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask44" id="BPMNShape_usertask44">
        <omgdc:Bounds height="55.0" width="105.0" x="1151.0" y="154.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway31" id="BPMNShape_exclusivegateway31">
        <omgdc:Bounds height="40.0" width="40.0" x="1183.0" y="269.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway32" id="BPMNShape_exclusivegateway32">
        <omgdc:Bounds height="40.0" width="40.0" x="1360.0" y="419.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask45" id="BPMNShape_usertask45">
        <omgdc:Bounds height="69.0" width="105.0" x="1032.0" y="168.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway33" id="BPMNShape_exclusivegateway33">
        <omgdc:Bounds height="40.0" width="40.0" x="963.0" y="354.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway34" id="BPMNShape_exclusivegateway34">
        <omgdc:Bounds height="40.0" width="40.0" x="337.0" y="757.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask46" id="BPMNShape_usertask46">
        <omgdc:Bounds height="55.0" width="105.0" x="1936.0" y="734.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway35" id="BPMNShape_exclusivegateway35">
        <omgdc:Bounds height="40.0" width="40.0" x="1839.0" y="694.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask47" id="BPMNShape_usertask47">
        <omgdc:Bounds height="66.0" width="105.0" x="857.0" y="257.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway36" id="BPMNShape_exclusivegateway36">
        <omgdc:Bounds height="40.0" width="40.0" x="961.0" y="181.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="flow192" id="BPMNEdge_flow192">
        <omgdi:waypoint x="36.0" y="780.0"></omgdi:waypoint>
        <omgdi:waypoint x="156.0" y="777.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow202" id="BPMNEdge_flow202">
        <omgdi:waypoint x="288.0" y="326.0"></omgdi:waypoint>
        <omgdi:waypoint x="249.0" y="306.0"></omgdi:waypoint>
        <omgdi:waypoint x="285.0" y="263.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow199" id="BPMNEdge_flow199">
        <omgdi:waypoint x="523.0" y="359.0"></omgdi:waypoint>
        <omgdi:waypoint x="523.0" y="403.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow203" id="BPMNEdge_flow203">
        <omgdi:waypoint x="424.0" y="642.0"></omgdi:waypoint>
        <omgdi:waypoint x="705.0" y="617.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow204" id="BPMNEdge_flow204">
        <omgdi:waypoint x="424.0" y="642.0"></omgdi:waypoint>
        <omgdi:waypoint x="378.0" y="603.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow23" id="BPMNEdge_flow23">
        <omgdi:waypoint x="708.0" y="676.0"></omgdi:waypoint>
        <omgdi:waypoint x="846.0" y="653.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow26" id="BPMNEdge_flow26">
        <omgdi:waypoint x="1686.0" y="359.0"></omgdi:waypoint>
        <omgdi:waypoint x="1691.0" y="431.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow28" id="BPMNEdge_flow28">
        <omgdi:waypoint x="1747.0" y="633.0"></omgdi:waypoint>
        <omgdi:waypoint x="1839.0" y="630.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow125" id="BPMNEdge_flow125">
        <omgdi:waypoint x="846.0" y="653.0"></omgdi:waypoint>
        <omgdi:waypoint x="851.0" y="683.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow126" id="BPMNEdge_flow126">
        <omgdi:waypoint x="851.0" y="723.0"></omgdi:waypoint>
        <omgdi:waypoint x="825.0" y="737.0"></omgdi:waypoint>
        <omgdi:waypoint x="789.0" y="737.0"></omgdi:waypoint>
        <omgdi:waypoint x="706.0" y="751.0"></omgdi:waypoint>
        <omgdi:waypoint x="721.0" y="767.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow127" id="BPMNEdge_flow127">
        <omgdi:waypoint x="831.0" y="703.0"></omgdi:waypoint>
        <omgdi:waypoint x="761.0" y="703.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow159" id="BPMNEdge_flow159">
        <omgdi:waypoint x="690.0" y="477.0"></omgdi:waypoint>
        <omgdi:waypoint x="690.0" y="501.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow157" id="BPMNEdge_flow157">
        <omgdi:waypoint x="690.0" y="401.0"></omgdi:waypoint>
        <omgdi:waypoint x="690.0" y="422.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow160" id="BPMNEdge_flow160">
        <omgdi:waypoint x="690.0" y="326.0"></omgdi:waypoint>
        <omgdi:waypoint x="690.0" y="346.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow173" id="BPMNEdge_flow173">
        <omgdi:waypoint x="690.0" y="541.0"></omgdi:waypoint>
        <omgdi:waypoint x="690.0" y="566.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow177" id="BPMNEdge_flow177">
        <omgdi:waypoint x="710.0" y="521.0"></omgdi:waypoint>
        <omgdi:waypoint x="767.0" y="521.0"></omgdi:waypoint>
        <omgdi:waypoint x="767.0" y="375.0"></omgdi:waypoint>
        <omgdi:waypoint x="743.0" y="373.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow22" id="BPMNEdge_flow22">
        <omgdi:waypoint x="705.0" y="617.0"></omgdi:waypoint>
        <omgdi:waypoint x="708.0" y="676.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow161" id="BPMNEdge_flow161">
        <omgdi:waypoint x="1373.0" y="555.0"></omgdi:waypoint>
        <omgdi:waypoint x="1373.0" y="580.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow165" id="BPMNEdge_flow165">
        <omgdi:waypoint x="1373.0" y="635.0"></omgdi:waypoint>
        <omgdi:waypoint x="1373.0" y="650.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow166" id="BPMNEdge_flow166">
        <omgdi:waypoint x="1373.0" y="705.0"></omgdi:waypoint>
        <omgdi:waypoint x="1373.0" y="730.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow175" id="BPMNEdge_flow175">
        <omgdi:waypoint x="1373.0" y="770.0"></omgdi:waypoint>
        <omgdi:waypoint x="1373.0" y="790.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow176" id="BPMNEdge_flow176">
        <omgdi:waypoint x="1393.0" y="750.0"></omgdi:waypoint>
        <omgdi:waypoint x="1450.0" y="749.0"></omgdi:waypoint>
        <omgdi:waypoint x="1450.0" y="605.0"></omgdi:waypoint>
        <omgdi:waypoint x="1426.0" y="607.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow167" id="BPMNEdge_flow167">
        <omgdi:waypoint x="1615.0" y="777.0"></omgdi:waypoint>
        <omgdi:waypoint x="1661.0" y="782.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow168" id="BPMNEdge_flow168">
        <omgdi:waypoint x="1562.0" y="669.0"></omgdi:waypoint>
        <omgdi:waypoint x="1562.0" y="750.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow171" id="BPMNEdge_flow171">
        <omgdi:waypoint x="1681.0" y="762.0"></omgdi:waypoint>
        <omgdi:waypoint x="1562.0" y="669.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow172" id="BPMNEdge_flow172">
        <omgdi:waypoint x="1681.0" y="802.0"></omgdi:waypoint>
        <omgdi:waypoint x="1681.0" y="960.0"></omgdi:waypoint>
        <omgdi:waypoint x="1803.0" y="960.0"></omgdi:waypoint>
        <omgdi:waypoint x="2120.0" y="960.0"></omgdi:waypoint>
        <omgdi:waypoint x="1924.0" y="44.0"></omgdi:waypoint>
        <omgdi:waypoint x="1451.0" y="44.0"></omgdi:waypoint>
        <omgdi:waypoint x="991.0" y="44.0"></omgdi:waypoint>
        <omgdi:waypoint x="992.0" y="94.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow208" id="BPMNEdge_flow208">
        <omgdi:waypoint x="285.0" y="608.0"></omgdi:waypoint>
        <omgdi:waypoint x="285.0" y="571.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow210" id="BPMNEdge_flow210">
        <omgdi:waypoint x="338.0" y="235.0"></omgdi:waypoint>
        <omgdi:waypoint x="404.0" y="235.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow211" id="BPMNEdge_flow211">
        <omgdi:waypoint x="424.0" y="255.0"></omgdi:waypoint>
        <omgdi:waypoint x="424.0" y="314.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow212" id="BPMNEdge_flow212">
        <omgdi:waypoint x="444.0" y="235.0"></omgdi:waypoint>
        <omgdi:waypoint x="506.0" y="259.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="48.0" width="36.0" x="488.0" y="257.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow214" id="BPMNEdge_flow214">
        <omgdi:waypoint x="909.0" y="830.0"></omgdi:waypoint>
        <omgdi:waypoint x="909.0" y="571.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow215" id="BPMNEdge_flow215">
        <omgdi:waypoint x="874.0" y="839.0"></omgdi:waypoint>
        <omgdi:waypoint x="889.0" y="850.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow216" id="BPMNEdge_flow216">
        <omgdi:waypoint x="929.0" y="850.0"></omgdi:waypoint>
        <omgdi:waypoint x="956.0" y="850.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="48.0" width="36.0" x="961.0" y="862.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow219" id="BPMNEdge_flow219">
        <omgdi:waypoint x="261.0" y="777.0"></omgdi:waypoint>
        <omgdi:waypoint x="337.0" y="777.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow220" id="BPMNEdge_flow220">
        <omgdi:waypoint x="285.0" y="341.0"></omgdi:waypoint>
        <omgdi:waypoint x="285.0" y="263.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow222" id="BPMNEdge_flow222">
        <omgdi:waypoint x="1859.0" y="650.0"></omgdi:waypoint>
        <omgdi:waypoint x="1715.0" y="687.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow225" id="BPMNEdge_flow225">
        <omgdi:waypoint x="378.0" y="568.0"></omgdi:waypoint>
        <omgdi:waypoint x="424.0" y="523.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow226" id="BPMNEdge_flow226">
        <omgdi:waypoint x="424.0" y="523.0"></omgdi:waypoint>
        <omgdi:waypoint x="424.0" y="642.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow227" id="BPMNEdge_flow227">
        <omgdi:waypoint x="1468.0" y="671.0"></omgdi:waypoint>
        <omgdi:waypoint x="1562.0" y="557.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow228" id="BPMNEdge_flow228">
        <omgdi:waypoint x="543.0" y="495.0"></omgdi:waypoint>
        <omgdi:waypoint x="611.0" y="495.0"></omgdi:waypoint>
        <omgdi:waypoint x="611.0" y="259.0"></omgdi:waypoint>
        <omgdi:waypoint x="541.0" y="259.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow229" id="BPMNEdge_flow229">
        <omgdi:waypoint x="523.0" y="458.0"></omgdi:waypoint>
        <omgdi:waypoint x="523.0" y="475.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow230" id="BPMNEdge_flow230">
        <omgdi:waypoint x="503.0" y="495.0"></omgdi:waypoint>
        <omgdi:waypoint x="477.0" y="495.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow231" id="BPMNEdge_flow231">
        <omgdi:waypoint x="444.0" y="334.0"></omgdi:waypoint>
        <omgdi:waypoint x="471.0" y="331.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow232" id="BPMNEdge_flow232">
        <omgdi:waypoint x="424.0" y="354.0"></omgdi:waypoint>
        <omgdi:waypoint x="424.0" y="468.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow233" id="BPMNEdge_flow233">
        <omgdi:waypoint x="909.0" y="531.0"></omgdi:waypoint>
        <omgdi:waypoint x="884.0" y="507.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow234" id="BPMNEdge_flow234">
        <omgdi:waypoint x="889.0" y="551.0"></omgdi:waypoint>
        <omgdi:waypoint x="864.0" y="549.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow235" id="BPMNEdge_flow235">
        <omgdi:waypoint x="1859.0" y="650.0"></omgdi:waypoint>
        <omgdi:waypoint x="1859.0" y="694.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow236" id="BPMNEdge_flow236">
        <omgdi:waypoint x="1768.0" y="714.0"></omgdi:waypoint>
        <omgdi:waypoint x="1839.0" y="714.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow237" id="BPMNEdge_flow237">
        <omgdi:waypoint x="1859.0" y="875.0"></omgdi:waypoint>
        <omgdi:waypoint x="1859.0" y="902.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow244" id="BPMNEdge_flow244">
        <omgdi:waypoint x="170.0" y="212.0"></omgdi:waypoint>
        <omgdi:waypoint x="167.0" y="204.0"></omgdi:waypoint>
        <omgdi:waypoint x="221.0" y="204.0"></omgdi:waypoint>
        <omgdi:waypoint x="233.0" y="235.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow245" id="BPMNEdge_flow245">
        <omgdi:waypoint x="1012.0" y="114.0"></omgdi:waypoint>
        <omgdi:waypoint x="1684.0" y="112.0"></omgdi:waypoint>
        <omgdi:waypoint x="1686.0" y="304.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow246" id="BPMNEdge_flow246">
        <omgdi:waypoint x="972.0" y="114.0"></omgdi:waypoint>
        <omgdi:waypoint x="871.0" y="114.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow247" id="BPMNEdge_flow247">
        <omgdi:waypoint x="444.0" y="235.0"></omgdi:waypoint>
        <omgdi:waypoint x="703.0" y="235.0"></omgdi:waypoint>
        <omgdi:waypoint x="705.0" y="276.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow248" id="BPMNEdge_flow248">
        <omgdi:waypoint x="196.0" y="235.0"></omgdi:waypoint>
        <omgdi:waypoint x="233.0" y="235.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow249" id="BPMNEdge_flow249">
        <omgdi:waypoint x="351.0" y="147.0"></omgdi:waypoint>
        <omgdi:waypoint x="161.0" y="147.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow250" id="BPMNEdge_flow250">
        <omgdi:waypoint x="143.0" y="165.0"></omgdi:waypoint>
        <omgdi:waypoint x="143.0" y="208.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow251" id="BPMNEdge_flow251">
        <omgdi:waypoint x="1691.0" y="486.0"></omgdi:waypoint>
        <omgdi:waypoint x="1695.0" y="524.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow252" id="BPMNEdge_flow252">
        <omgdi:waypoint x="1695.0" y="564.0"></omgdi:waypoint>
        <omgdi:waypoint x="1694.0" y="606.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow253" id="BPMNEdge_flow253">
        <omgdi:waypoint x="1695.0" y="524.0"></omgdi:waypoint>
        <omgdi:waypoint x="1815.0" y="453.0"></omgdi:waypoint>
        <omgdi:waypoint x="1686.0" y="359.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow254" id="BPMNEdge_flow254">
        <omgdi:waypoint x="265.0" y="551.0"></omgdi:waypoint>
        <omgdi:waypoint x="147.0" y="551.0"></omgdi:waypoint>
        <omgdi:waypoint x="147.0" y="368.0"></omgdi:waypoint>
        <omgdi:waypoint x="233.0" y="368.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow255" id="BPMNEdge_flow255">
        <omgdi:waypoint x="285.0" y="531.0"></omgdi:waypoint>
        <omgdi:waypoint x="285.0" y="495.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow256" id="BPMNEdge_flow256">
        <omgdi:waypoint x="285.0" y="440.0"></omgdi:waypoint>
        <omgdi:waypoint x="285.0" y="396.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow257" id="BPMNEdge_flow257">
        <omgdi:waypoint x="884.0" y="449.0"></omgdi:waypoint>
        <omgdi:waypoint x="831.0" y="396.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow258" id="BPMNEdge_flow258">
        <omgdi:waypoint x="1380.0" y="375.0"></omgdi:waypoint>
        <omgdi:waypoint x="1380.0" y="419.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow259" id="BPMNEdge_flow259">
        <omgdi:waypoint x="1380.0" y="335.0"></omgdi:waypoint>
        <omgdi:waypoint x="1380.0" y="304.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow260" id="BPMNEdge_flow260">
        <omgdi:waypoint x="1550.0" y="277.0"></omgdi:waypoint>
        <omgdi:waypoint x="1686.0" y="304.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow261" id="BPMNEdge_flow261">
        <omgdi:waypoint x="1433.0" y="191.0"></omgdi:waypoint>
        <omgdi:waypoint x="1473.0" y="191.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow262" id="BPMNEdge_flow262">
        <omgdi:waypoint x="1380.0" y="264.0"></omgdi:waypoint>
        <omgdi:waypoint x="1380.0" y="229.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow263" id="BPMNEdge_flow263">
        <omgdi:waypoint x="1380.0" y="264.0"></omgdi:waypoint>
        <omgdi:waypoint x="1525.0" y="219.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow264" id="BPMNEdge_flow264">
        <omgdi:waypoint x="851.0" y="134.0"></omgdi:waypoint>
        <omgdi:waypoint x="847.0" y="150.0"></omgdi:waypoint>
        <omgdi:waypoint x="695.0" y="147.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow265" id="BPMNEdge_flow265">
        <omgdi:waypoint x="851.0" y="94.0"></omgdi:waypoint>
        <omgdi:waypoint x="850.0" y="52.0"></omgdi:waypoint>
        <omgdi:waypoint x="403.0" y="52.0"></omgdi:waypoint>
        <omgdi:waypoint x="403.0" y="120.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow266" id="BPMNEdge_flow266">
        <omgdi:waypoint x="590.0" y="147.0"></omgdi:waypoint>
        <omgdi:waypoint x="456.0" y="147.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow268" id="BPMNEdge_flow268">
        <omgdi:waypoint x="831.0" y="356.0"></omgdi:waypoint>
        <omgdi:waypoint x="831.0" y="235.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow269" id="BPMNEdge_flow269">
        <omgdi:waypoint x="851.0" y="376.0"></omgdi:waypoint>
        <omgdi:waypoint x="963.0" y="374.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow270" id="BPMNEdge_flow270">
        <omgdi:waypoint x="884.0" y="202.0"></omgdi:waypoint>
        <omgdi:waypoint x="961.0" y="201.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow271" id="BPMNEdge_flow271">
        <omgdi:waypoint x="1562.0" y="557.0"></omgdi:waypoint>
        <omgdi:waypoint x="1562.0" y="614.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow273" id="BPMNEdge_flow273">
        <omgdi:waypoint x="1122.0" y="327.0"></omgdi:waypoint>
        <omgdi:waypoint x="1203.0" y="309.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow275" id="BPMNEdge_flow275">
        <omgdi:waypoint x="1073.0" y="547.0"></omgdi:waypoint>
        <omgdi:waypoint x="1033.0" y="590.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow276" id="BPMNEdge_flow276">
        <omgdi:waypoint x="1033.0" y="645.0"></omgdi:waypoint>
        <omgdi:waypoint x="1033.0" y="703.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow277" id="BPMNEdge_flow277">
        <omgdi:waypoint x="1053.0" y="723.0"></omgdi:waypoint>
        <omgdi:waypoint x="1122.0" y="720.0"></omgdi:waypoint>
        <omgdi:waypoint x="1203.0" y="448.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow278" id="BPMNEdge_flow278">
        <omgdi:waypoint x="1033.0" y="743.0"></omgdi:waypoint>
        <omgdi:waypoint x="973.0" y="833.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow279" id="BPMNEdge_flow279">
        <omgdi:waypoint x="1102.0" y="347.0"></omgdi:waypoint>
        <omgdi:waypoint x="1084.0" y="383.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow280" id="BPMNEdge_flow280">
        <omgdi:waypoint x="1084.0" y="438.0"></omgdi:waypoint>
        <omgdi:waypoint x="1073.0" y="485.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow281" id="BPMNEdge_flow281">
        <omgdi:waypoint x="1203.0" y="393.0"></omgdi:waypoint>
        <omgdi:waypoint x="1380.0" y="375.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow282" id="BPMNEdge_flow282">
        <omgdi:waypoint x="1033.0" y="743.0"></omgdi:waypoint>
        <omgdi:waypoint x="1094.0" y="812.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow283" id="BPMNEdge_flow283">
        <omgdi:waypoint x="1214.0" y="728.0"></omgdi:waypoint>
        <omgdi:waypoint x="1214.0" y="677.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow284" id="BPMNEdge_flow284">
        <omgdi:waypoint x="1234.0" y="585.0"></omgdi:waypoint>
        <omgdi:waypoint x="1311.0" y="671.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow285" id="BPMNEdge_flow285">
        <omgdi:waypoint x="1214.0" y="565.0"></omgdi:waypoint>
        <omgdi:waypoint x="1214.0" y="513.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow286" id="BPMNEdge_flow286">
        <omgdi:waypoint x="1214.0" y="622.0"></omgdi:waypoint>
        <omgdi:waypoint x="1214.0" y="605.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow287" id="BPMNEdge_flow287">
        <omgdi:waypoint x="1147.0" y="839.0"></omgdi:waypoint>
        <omgdi:waypoint x="1194.0" y="839.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow288" id="BPMNEdge_flow288">
        <omgdi:waypoint x="1214.0" y="819.0"></omgdi:waypoint>
        <omgdi:waypoint x="1214.0" y="783.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow289" id="BPMNEdge_flow289">
        <omgdi:waypoint x="1234.0" y="839.0"></omgdi:waypoint>
        <omgdi:waypoint x="1311.0" y="671.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow292" id="BPMNEdge_flow292">
        <omgdi:waypoint x="721.0" y="767.0"></omgdi:waypoint>
        <omgdi:waypoint x="821.0" y="766.0"></omgdi:waypoint>
        <omgdi:waypoint x="821.0" y="812.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow293" id="BPMNEdge_flow293">
        <omgdi:waypoint x="754.0" y="929.0"></omgdi:waypoint>
        <omgdi:waypoint x="822.0" y="929.0"></omgdi:waypoint>
        <omgdi:waypoint x="821.0" y="867.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow294" id="BPMNEdge_flow294">
        <omgdi:waypoint x="701.0" y="787.0"></omgdi:waypoint>
        <omgdi:waypoint x="701.0" y="812.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow295" id="BPMNEdge_flow295">
        <omgdi:waypoint x="701.0" y="867.0"></omgdi:waypoint>
        <omgdi:waypoint x="701.0" y="902.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow296" id="BPMNEdge_flow296">
        <omgdi:waypoint x="1532.0" y="403.0"></omgdi:waypoint>
        <omgdi:waypoint x="1686.0" y="359.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow297" id="BPMNEdge_flow297">
        <omgdi:waypoint x="1530.0" y="383.0"></omgdi:waypoint>
        <omgdi:waypoint x="1532.0" y="403.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow298" id="BPMNEdge_flow298">
        <omgdi:waypoint x="1530.0" y="297.0"></omgdi:waypoint>
        <omgdi:waypoint x="1530.0" y="328.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow299" id="BPMNEdge_flow299">
        <omgdi:waypoint x="1525.0" y="219.0"></omgdi:waypoint>
        <omgdi:waypoint x="1530.0" y="257.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow300" id="BPMNEdge_flow300">
        <omgdi:waypoint x="617.0" y="662.0"></omgdi:waypoint>
        <omgdi:waypoint x="684.0" y="662.0"></omgdi:waypoint>
        <omgdi:waypoint x="705.0" y="617.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow301" id="BPMNEdge_flow301">
        <omgdi:waypoint x="1203.0" y="269.0"></omgdi:waypoint>
        <omgdi:waypoint x="1203.0" y="209.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow302" id="BPMNEdge_flow302">
        <omgdi:waypoint x="1203.0" y="309.0"></omgdi:waypoint>
        <omgdi:waypoint x="1203.0" y="393.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow303" id="BPMNEdge_flow303">
        <omgdi:waypoint x="1203.0" y="209.0"></omgdi:waypoint>
        <omgdi:waypoint x="1261.0" y="235.0"></omgdi:waypoint>
        <omgdi:waypoint x="1261.0" y="305.0"></omgdi:waypoint>
        <omgdi:waypoint x="1261.0" y="364.0"></omgdi:waypoint>
        <omgdi:waypoint x="1203.0" y="393.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow305" id="BPMNEdge_flow305">
        <omgdi:waypoint x="1380.0" y="459.0"></omgdi:waypoint>
        <omgdi:waypoint x="1389.0" y="505.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow306" id="BPMNEdge_flow306">
        <omgdi:waypoint x="1360.0" y="439.0"></omgdi:waypoint>
        <omgdi:waypoint x="1275.0" y="439.0"></omgdi:waypoint>
        <omgdi:waypoint x="1275.0" y="147.0"></omgdi:waypoint>
        <omgdi:waypoint x="874.0" y="147.0"></omgdi:waypoint>
        <omgdi:waypoint x="851.0" y="134.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow307" id="BPMNEdge_flow307">
        <omgdi:waypoint x="983.0" y="354.0"></omgdi:waypoint>
        <omgdi:waypoint x="1084.0" y="237.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow308" id="BPMNEdge_flow308">
        <omgdi:waypoint x="1084.0" y="237.0"></omgdi:waypoint>
        <omgdi:waypoint x="1102.0" y="307.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow309" id="BPMNEdge_flow309">
        <omgdi:waypoint x="1003.0" y="374.0"></omgdi:waypoint>
        <omgdi:waypoint x="1102.0" y="347.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow310" id="BPMNEdge_flow310">
        <omgdi:waypoint x="1988.0" y="789.0"></omgdi:waypoint>
        <omgdi:waypoint x="1859.0" y="820.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow311" id="BPMNEdge_flow311">
        <omgdi:waypoint x="357.0" y="757.0"></omgdi:waypoint>
        <omgdi:waypoint x="285.0" y="643.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow312" id="BPMNEdge_flow312">
        <omgdi:waypoint x="357.0" y="757.0"></omgdi:waypoint>
        <omgdi:waypoint x="337.0" y="628.0"></omgdi:waypoint>
        <omgdi:waypoint x="337.0" y="561.0"></omgdi:waypoint>
        <omgdi:waypoint x="358.0" y="504.0"></omgdi:waypoint>
        <omgdi:waypoint x="372.0" y="495.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow313" id="BPMNEdge_flow313">
        <omgdi:waypoint x="1879.0" y="714.0"></omgdi:waypoint>
        <omgdi:waypoint x="1988.0" y="734.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow314" id="BPMNEdge_flow314">
        <omgdi:waypoint x="1859.0" y="734.0"></omgdi:waypoint>
        <omgdi:waypoint x="1859.0" y="820.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow315" id="BPMNEdge_flow315">
        <omgdi:waypoint x="909.0" y="323.0"></omgdi:waypoint>
        <omgdi:waypoint x="983.0" y="354.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow316" id="BPMNEdge_flow316">
        <omgdi:waypoint x="981.0" y="221.0"></omgdi:waypoint>
        <omgdi:waypoint x="909.0" y="257.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow317" id="BPMNEdge_flow317">
        <omgdi:waypoint x="981.0" y="221.0"></omgdi:waypoint>
        <omgdi:waypoint x="983.0" y="354.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>